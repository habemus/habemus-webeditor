// h-deps
// use the h-urls/dev version for now, as the /dev version
// builds urls relative to the hosts instead of using domain names.
// TODO: either remove dependency on h-urls or internalize url writing.
//       needs study
const hUrls = require('h-urls/dev');

var hWorkspaceServerURI;

try {
  hWorkspaceServerURI = window.location.protocol + window.location.host + '/preview';
} catch (e) {
  if (e instanceof ReferenceError) {
    console.warn('window not available');
  }
}

// load url options from env
var urlOptions = {
  hWorkspaceServerURI: hWorkspaceServerURI,
  workspacePreviewHost: 'sw.habemus.io',
};

/**
 * Helper that builds the urls from a series of configurations
 * @type {Object}
 */
var urls = hUrls(urlOptions);

module.exports = urls;

// third-party
const Bluebird = require('bluebird');

module.exports = function (habemus, options) {
  
  return Bluebird.resolve(require('./config')(habemus, options))
    .then(function (config) {

      habemus.services.config = config;

      return Bluebird.all([
        require('./service-worker')(habemus, options),
      ]);
    })
    .then(function (services) {
      habemus.services.serviceWorker = services[0];

      return Bluebird.all([
        require('./h-dev')(habemus, options),
      ]);
    })
    .then(function (services) {
      habemus.services.hDev = services[0];

    });
};

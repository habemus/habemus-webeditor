// h-deps
const hUrls = require('h-urls/dev');

// load url options from env
var urlOptions = {
  // workspace serving
  hWorkspaceServerURI: process.env.H_WORKSPACE_SERVER_URI,
  workspacePreviewHost: process.env.WORKSPACE_PREVIEW_HOST,

  // website serving
  hWebsiteServerURI: process.env.H_WEBSITE_SERVER_URI,
  websiteHost: process.env.WEBSITE_HOST,
};

if (!urlOptions.hWorkspaceServerURI) {
  throw new Error('process.env.H_WORKSPACE_SERVER_URI must be set');
}

if (!urlOptions.workspacePreviewHost) {
  throw new Error('process.env.WORKSPACE_PREVIEW_HOST must be set');
}

/**
 * Helper that builds the urls from a series of configurations
 * @type {Object}
 */
var urls = hUrls(urlOptions);

module.exports = urls;

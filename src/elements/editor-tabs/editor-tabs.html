<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/iron-selector/iron-selector.html">
<link rel="import" href="../../bower_components/iron-icon/iron-icon.html">
<link rel="import" href="../../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="editor-tabs-styles.html">

<dom-module id="habemus-editor-tabs">
  <style include="editor-tabs-styles"></style>

  <template>
    <iron-selector
      id="tabs"
      attr-for-selected="value"
      selected="{{ selected }}"

      on-dragend="_handleTabsDragend"
      on-dblclick="_handleTabsDblclick">

      <template is="dom-repeat" items="{{ tabs }}">
        <div
          class="tab"
          value="{{ item.path }}"

          status$="{{ item.status }}"

          draggable
          on-dragstart="_handleTabDragstart"
          on-dragover="_handleTabDragover"
          on-dragleave="_handleTabDragleave"
          on-drop="_handleTabDrop">

          <span class="tab-name">{{ item.name }}</span>

          <!-- <div hidden$="{{ !item.unsaved }}" class="unsaved"> * </div> -->
          <button on-tap="_handleButtonTap">
            <iron-icon icon="close"></iron-icon>
            <iron-icon icon="refresh"></iron-icon>
          </button>
          
        </div>
      </template>
      
      <div id="empty-placeholder"></div>

    </iron-selector>
  </template>

  <script type="text/javascript" src="editor-tabs.js"></script>

</dom-module>
